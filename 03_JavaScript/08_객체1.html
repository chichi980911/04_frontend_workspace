<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .area{background-color: lightgray;
            border: 1px solid black; 
            width: 500px;}
        .small{height: 200px;}
        .big{height: 400px;}

    </style>

</head>

<body>
    <h1>객체</h1>
    <h3>* 객체 선언 및 사용</h3>
    <p>
        객체는  중괄호{}를 사용해서 생성하고, <br>
        중괄호 안에 이 객체에서 필요한 속성(property)들을 정의한다<br>
        속성명: 속성값의 형태로 정의함 (키:벨류) <br>
        속성값으로는 모든 자료형의 값을 담을 수 있음
    </p>

    <pre>
        변수 = {
            속성명:속성값,
            속성명:속성값,
            ....
        }
    </pre>

    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area big"></div>

    <script>
        function test1(){
            const arr = ["Dry Mango", 4000 , "pickle" , ["margo","sugar"]]
           
            //지바스크립트에서 배열 == 자바에서의 컬렉션(ArrayList)과 굉장히 유사하다
            
            const product = {
                pName : "Dry Mango",
                price : 4800,
                "kind": "pickle",
                ingredient:["mango","sugar"]
            };
            //자바스크립트에서의 객체 == 자바에서의 컬렉션 (HashMap)

            console.log(product);
            console.log(typeof(product));

            const area1 = document.getElementById("area1");
            area1.innerHTML = "product : " + product + '<br>';  
            // toString() 자동으로 호출된다 나중에 재 정의 해준다.

            //객체의 속성에 접근하는 방법

            //방법1.대괄호를 이용하는 방법 : 객체명["속성명"]
            area1.innerHTML += "<b>객체명['속성명']으로 접근하기</b><br>";
            area1.innerHTML += "pName : " + product["pName"] + "<br>"
            area1.innerHTML += "price : " + product["price"] + "<br>"
            area1.innerHTML += "kind : " + product["kind"] + "<br>"
            area1.innerHTML += "ingredient : " + product["ingredient"] + "<br>"
            area1.innerHTML += "ingredient[0] : " + product["ingredient"][0] +"<br>" //2차원 배열
           
          

            // 방법2. .을 이용하는 방법 : 객체명,속성명
            area1.innerHTML += "<b>객체명.속성명으로 접근하기</b><br>";
            area1.innerHTML += "pName : " + product.pName + "<br>"
            area1.innerHTML += "price : " + product.price + "<br>"
            area1.innerHTML += "kind : " + product.kind + "<br>"
            area1.innerHTML += "ingredient : " + product.ingredient + "<br>"
            area1.innerHTML += "ingredient[0] : " + product.ingredient[1] +"<br>"


        }
    </script>
    <br>
    <h3>* 객체 생성시 특이 케이스(속성명 제시시 반드시 문자열 형태로 해야되는 케이스)</h3>
    
    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area small"></div>
    
    <script>
        function test2(){
            const user = {
                "user name" : "문동은",
                "age!!" : 20
            };
            //속성명에 공백이나 특문이 포함될 경우 반드시 문자열로 묶어야한다.
            console.log(user)

            const area2 = document.getElementById("area2");

            //.을 이용 =>객체명,속성명 불가능
            //area2.innerHTML += "user name" + user
            // area2.innerHTML += "age!!" + age!! +'<br>'

            //대괄호를 이용 > 객체명["속성명"]
            area2.innerHTML += "user name : " + user["user name"] + "<br>" 
            area2.innerHTML += "age!! : " + user["age!!"] + "<br>" 

        }
        
    </script>

    <hr>

    <h3>* 객체에서의 반복문</h3>
    <p>
        객체가 가지고 있는 모든 속성들에 순차적으로 접근하고자 한다면 반복문 제시 가능<br>
        단, 단순한 for loop 로는 불가능, for in 문만 사용가능하다
    </p>

    <button onclick="test3();">실행확인</button>
    <div id="area3" class="area small"></div>

    <script>
        function test3(){
            const arr =["문동은",1,2,3,4,5]
            for(let i in arr){//1=0,1,2..
                console.log(arr[i]);}
                //배열 제시시
                //반복문 돌 떄 마다 0에서 부터 마지막 인덱스까지 인덱스 수가 담김

                const game = {
                    title : "오버워치",
                    price : 35000,
                    language:"한국어지원",
                    company: "블리자드"
            };
                const area3 = document.getElementById("area3");
                for(let key in game){ //key에는 객체의 key 값이 들어간다 {title , price, language..}
                //.을 이용해서 접근하는 방법

                // area3.innerHTML += key + " : " + game.key + "<br>"; //game 객체에 key 라는 속성을 찾고 있다.

                //대괄호를 이용해서 접근 => 객체명[속성명]
                area3.innerHTML += key + " : " + game[key] + "<br>";
                }
                //in뒤에 객체 제시시
                //반복문 을 돌 때마다 해당 객체의 속성이 앞쪽의 위치
        }
    </script>

    <hr>
    <h3>*객체의 메서드 속성</h3>
    <p>객체의 속성 중 함수자료형인 속성을 메서드라고 부른다</p>

    <button onclick="test4();">실행확인</button>
    <div id="area4" class="area small"></div>

    <script>
        function test4(){
            const area4 = document.getElementById("area4");
            const name  = "김상호";
            const dog = {
                name : "복실이",
                kind : "비글",
                eat : function(food){
                    // area4.innerHTML += "eat 메서드가 호출되었습니다. <br>"
                    // area4.innerHTML += food;

                    //비글 종류인 복실이가 food을(를) 먹고있어요
                //메서드 속성에서 같은 객체내의 속성에 접근하고자 한다면 this.을 붙여야 한다.

                    area4.innerHTML += this.kind +" 종류인 " + this.name + "가 " + food + "를 먹고있어요 . <br>";

                    // area4.innerHTML += dog.kind +" 종류인 " + dog.name + "가" + dog.food + " 를 먹고있어요 . <br>";
                    
                }

            };
            // console.log(dog);

            dog.eat("사과");
            //window.alert("zz") : 같은 맥락이다.

        }
    </script>

    <hr>

    <h3>* in과 woth 키워드</h3>
    <p>
        in : 객체내에 해당 속성이 있는지 확인해주는 키워드 (존재하면 true, 아니면 false 반환) <br>
        with : 객체의 속성 접근시 객체명 제시하는걸 생략할 수 있음 (코드를 줄여주는 메서드)
    </p>

    이름 : <input type="text" id="name"> <br>
    국어 : <input type="number" id="kor"> <br>
    수학 : <input type="number" id="math"> <br>
    영어 : <input type="number" id="eng">   <br><br>

    <button onclick="test5();">실행확인</button>
    <div id="area5" class="area big"></div>

    <script>
        function test5(){
            const student = {
                name : document.getElementById("name").value,
                kor : Number(document.getElementById("kor").value), //"70"문자열로넘어옴 num타입으로 뽑으려면 형변화 psrseint(), number()
                math : Number(document.getElementById("math").value),
                eng : Number(document.getElementById("eng").value),

                toString:function(){
                    return this.name + " " + this.kor + " " + this.math + " " +this.eng;
                },getSum:function(){
                    return this.kor + this.math + this.eng;
                },getAvg:function(){
                    return this.getSum() / 3;
                }

                
            };
            const area5 = document.getElementById("area5");
            area5.innerHTML += "student : " + student +"<br>";

            //"속성명" in 객체명 : 객체에 해당 속성이 존재할경우 true, 아니면 false 반환
            area5.innerHTML += "name 속성이 있나 : " + ("name" in student) + "<br>";
            area5.innerHTML += "age 속성이 있나 : " + ("age" in student) + "<br>";
            
            area5.innerHTML += "학생이름 : " + student.name + "<br>";
            area5.innerHTML += "국어점수 : " + student.kor + "<br>";
            area5.innerHTML += "수학점수 : " + student.math + "<br>";
            area5.innerHTML += "영어점수 : " + student.eng + "<br>";
            area5.innerHTML += "총점 : " + student.getSum() + "<br>";
            area5.innerHTML += "평균: " + student.getAvg() + "<br>";

            with(student){
                area5.innerHTML += "학생이름 : " + name + "<br>";
                area5.innerHTML += "국어점수 : " + kor + "<br>";
                area5.innerHTML += "수학점수 : " + math + "<br>";
                area5.innerHTML += "영어점수 : " + eng + "<br>";
                area5.innerHTML += "총점 : " + getSum() + "<br>";
                area5.innerHTML += "평균: " + getAvg() + "<br>";


            }


        }
    </script>
    <hr>
    <h3>* 객체의 속성 추가 및 제거</h3>
    <button onclick="test6();">실행확인</button>
    <div id="area6" class="area small"></div>
    <script>
        function test6(){
            const student = {}; //빈객체생성

            //r객체에 속성 추가
            student.name = "문동은";
            student.hobby = ["게임","음악감상"];
            student.dream = "바둑왕";
            student.age = 20;

            student.dream = "바둑선생님";
           
            //메서드 속성 추가 없으면 [object object]
            student.toString = function(){
                const str = "name : " + this.name + "<br>"  
                          + "hobby : " + this.hobby + "<br>"
                          + "dream : " + this.dream + "<br>" 
                          + "age : " + this.age + "<br>"  
                return str; 
            }
            

            console.log(student) //중복된 이름 속성 존재 불가함, 마지막꺼가 반영된다.
            console.log(student.dream)

            const area6 = document.getElementById("area6");
            area6.innerHTML += student+"<br>"

            //객체의 속성 제거
            delete(student.hobby);

            area6.innerHTML += student + "<br>";
        }
    </script>
</body>
</html>